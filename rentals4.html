<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-N67L88MK');</script>
	<!-- End Google Tag Manager -->
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Red Rock Party Rentals</title>
	<link rel="stylesheet" href="style.css" />
		<link rel="stylesheet" href="cart.css" />

		<link rel="stylesheet" href="accordion.css" />
	<!-- Lora font for all text -->
	<link href="https://fonts.googleapis.com/css2?family=Lora:wght@400&display=swap" rel="stylesheet">
	<link rel="icon" href="/images/other-assets/favicon.ico" sizes="any">
	<link rel="icon" type="image/png" href="/images/other-assets/favicon.png">
	<link rel="icon" type="image/svg+xml" href="/images/other-assets/favicon.svg">
	<link rel="apple-touch-icon" href="/images/other-assets/apple-touch-icon.png">
	
	
	<style>
		.hero {
			background: url(images/fancy-table.png) center center / cover no-repeat;
		}
		
	@media (max-width: 600px) {
		.hero {
			height: 50vh;
			min-height: 320px;
			padding-top: 54px;
		}
	}

	@media (min-width: 900px) {
		.hero {
			background: url(images/fancy-backyard-dinner.png) center center / cover no-repeat;
		}
	}
	
	</style>
	
	
	
</head>
<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N67L88MK"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->


<header>
  <nav class="navbar" id="navbar">
    <div class="logo">
		<a href="index.html" >
			<img src="images/logo.png" alt="Red Rock Logo" />
			<span style="Color:white;">Red Rock Party Rentals</span>
		</a>
    </div>
    <button class="menu-toggle" id="menu-toggle" aria-label="Open Menu">&#9776;</button>
    <ul class="nav-links" id="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="rentals.html">Rentals</a></li>
      <li><a href="book.html">Book</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
</header>

  <section class="hero">
    <div class="overlay">
      <div class="hero-text">
        <h1>Rentals</h1>
      </div>
    </div>
  </section>
  

  
  <section class="rentals" style="padding:6px;" >
	  
	<div class="accordion" id="inventoryAccordion">

	  <div class="accordion-item" data-category="tablesandchairs">
		<button class="accordion-header">
		  Tables & Chairs
		  <span class="accordion-icon">+</span>
		</button>
		<div class="accordion-content">
			<div class="rental-items inventory-grid">

			  <div class="item inventory-item" data-category="tablesandchairs">
				  <img src="images/table.jpg" alt="Table" />
				  <p>Tables - $8 each</p>
				  <div class="rr-card__addToCart">
				  	<button class="rr-btn-addToCart">
						Add To Cart
					</button>
				  </div>
			  </div>
			  <div class="item inventory-item" data-category="tablesandchairs">
				  <img src="images/chair3.jpg" alt="Chair" />
				  <p>Chairs - $1 each</p>
			  </div>
			  <div class="item inventory-item" data-category="tablesandchairs">
				  <img src="images/cocktail-table.jpg" alt="Table" />
				  <p>Cocktail Tables - $13 each</p>
			  </div>		  
			</div>
		</div>
	  </div>

	  <div class="accordion-item" data-category="tablecovers">
		<button class="accordion-header">
		  Table Covers
		  <span class="accordion-icon">+</span>
		</button>
		<div class="accordion-content">
			<div class="rental-items inventory-grid">
			  <div class="item inventory-item" data-category="tablecovers">
				  <img src="images/tablecloth-regular.jpg" alt="Table" />
				  <p>Table Covers (Regular) - $5 each</p>
			  </div>
			  <div class="item inventory-item" data-category="tablecovers">
				  <img src="images/tablecloth-fitted.jpg" alt="Table" />
				  <p>Table Covers (Fitted) - $5 each</p>
			  </div>
			  <div class="item inventory-item" data-category="tablecovers">
				  <img src="images/cocktail-tablecover-black.jpg" alt="Table" />
				  <p>Cocktail Table Covers (Black Fitted) - $5 each</p>
			  </div>
			  <div class="item inventory-item" data-category="tablecovers">
				  <img src="images/cocktail-tablecover-white.jpg" alt="Table" />
				  <p>Cocktail Table Covers (White Fitted) - $5 each</p>
			  </div>
		
			</div>
		</div>
	  </div>

	  <div class="accordion-item" data-category="tablerunners">
		<button class="accordion-header">
		  Table Runners
		  <span class="accordion-icon">+</span>
		</button>
		<div class="accordion-content">
			<div class="rental-items inventory-grid">

				  <div class="item inventory-item" data-category="tablerunners">
					  <img src="images/tablerunner-lightpink.jpg" alt="Table" />
					  <p>Table Runners (Light Pink) - $2 each</p>
				  </div>
				  <div class="item inventory-item" data-category="tablerunners">
					  <img src="images/tablerunner-dustyblue.jpg" alt="Table" />
					  <p>Table Runners (Dusty Blue) - $2 each</p>
				  </div>
				  <div class="item inventory-item" data-category="tablerunners">
					  <img src="images/tablerunner-beige.jpg" alt="Table" />
					  <p>Table Runners (Beige) - $2 each</p>
				  </div>
				  <div class="item inventory-item" data-category="tablerunners">
					  <img src="images/tablerunner-dustyorange.jpg" alt="Table" />
					  <p>Table Runners (Dusty Orange) - $2 each</p>
				  </div>
				  <div class="item inventory-item" data-category="tablerunners">
					  <img src="images/tablerunner-sagegreen.jpg" alt="Table" />
					  <p>Table Runners (Sage Green) - $2 each</p>
				  </div>   
			</div>
		</div>
	  </div>

	  <div class="accordion-item" data-category="games">
		<button class="accordion-header">
		  Games
		  <span class="accordion-icon">+</span>
		</button>
		<div class="accordion-content">
			<div class="rental-items inventory-grid">
			  <div class="item inventory-item" data-category="games">
				  <img src="images/GiantConnect4.jpg" alt="Giant Connect 4" />
				  <p>Giant Connect 4 - $25 each</p>
			  </div>
			  <div class="item inventory-item" data-category="games">
				  <img src="images/Cornhole.jpg" alt="Cornhole" />
				  <p>Cornhole - $25 each</p>
			  </div>
			  <div class="item inventory-item" data-category="games">
				  <img src="https://i5.walmartimages.com/seo/Trimate-Tumbling-Tower-Large-21-25-Double-Sanded-Smooth-Natural-Wood-54-Blocks-Durable-Portable-Carry-Bag-Indoor-Outdoor-Family-Party-Game-Age-8_9274de07-c8fd-4d0b-8249-1e555fbbdce5.54354e63fb4e82599fefa86bdcea4a1f.jpeg?odnHeight=573&odnWidth=573&odnBg=FFFFFF" alt="Giant Jenga" />
				  <p>Giant Jenga - $25 each</p>
			  </div>

			</div>	
		</div>
	  </div>

	  <div class="accordion-item" data-category="addons">
		<button class="accordion-header">
		  Add-ons
		  <span class="accordion-icon">+</span>
		</button>
		<div class="accordion-content">
			<div class="rental-items inventory-grid">
			  <div class="item inventory-item" data-category="addons">
				  <img src="images/StandingCooler.jpg" alt="Standing Cooler" />
				  <p>Standing Cooler - $30 each</p>
			  </div>	
			</div>	
		</div>
	  </div>

	</div>



	
	<!-- CART OVERLAY -->
	<div id="cartOverlay" class="cart-overlay">
	  <div class="cart-panel cart-panel--fullscreen">

		<header class="cart-header">
		  <button class="cart-back" style="font-size:30px;" onclick="closeCart()">‚Üê</button>
		  <h2 style="margin-bottom:0;font-size:2em;">Cart</h2>
		  <button class="cart-close" onclick="closeCart()">‚úï</button>
		</header>

		<div id="cartItems" class="cart-items"></div>

		<footer class="cart-footer">
		  <div class="cart-summary">
			<div class="cart-line">
			  <span>Subtotal</span>
			  <strong id="cartSubtotal">$0.00</strong>
			</div>
			<div class="cart-line total">
			  <span>Total</span>
			  <strong id="cartTotal">$0.00</strong>
			</div>
		  </div>

		  <button class="checkout-btn">Checkout ‚Üí</button>
		</footer>

	  </div>
	</div>


 	
	<div class="cta-button">
      <a href="book.html">BOOK NOW</a>
    </div>
	
  </section>

  <hr class="solid">

  <section class="booking">
    <h3>Ways to Book:</h3>
    <p>Email us at booking@redrockpartyrentals.com</p>
    <p>Text us at 702-706-2455</p>
    <p>Or book with our <a href="book.html">virtual assistant</a>.</p>
  </section>

<script src="navbar-scroll.js"></script>

<!-- according js -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const accordionItems = document.querySelectorAll('.accordion-item');

  accordionItems.forEach(item => {
    const header = item.querySelector('.accordion-header');

    header.addEventListener('click', () => {
      item.classList.toggle('open');
    });
  });

  // Default open sections
  //document
  //  .querySelector('.accordion-item[data-category="tablesandchairs"]')
  //  ?.classList.add('open');

  //document
  //  .querySelector('.accordion-item[data-category="tablecovers"]')
  //  ?.classList.add('open');
});
</script>



<!-- CART JS -->
<script>
const CART_KEY = 'rrpr_cart';

/* --------------------
   Core helpers
-------------------- */
function getCart() {
  return JSON.parse(localStorage.getItem(CART_KEY)) || [];
}

function saveCart(cart) {
  localStorage.setItem(CART_KEY, JSON.stringify(cart));
}

/* --------------------
   Cart actions
-------------------- */
function addToCart(item) {
  const cart = getCart();
  const existing = cart.find(i => i.id === item.id);

	if (existing) {
	  if (existing.qty < existing.availableQty) {
		existing.qty += 1;
	  } else {
		alert(`Only ${existing.availableQty} available for this item.`);
		return;
	  }
	} else {
	  cart.push({ ...item, qty: 1 });
	}

  saveCart(cart);
  openCart();
  renderCart();
}

function removeFromCart(id) {
  const cart = getCart().filter(i => i.id !== id);
  saveCart(cart);
  renderCart();
}



function updateQty(id, delta) {
  const cart = getCart();
  const item = cart.find(i => i.id === id);
  if (!item) return;

  const nextQty = item.qty + delta;

  if (nextQty < 1) {
    removeFromCart(id);
    return;
  }

  if (nextQty > item.availableQty) {
    alert(`Only ${item.availableQty} available for this item.`);
    return;
  }

  item.qty = nextQty;
  saveCart(cart);
  renderCart();
}





function commitQty(id, value) {
  let qty = parseInt(value, 10);

  if (!Number.isFinite(qty) || qty < 1) {
    qty = 1;
  }

  const cart = getCart();
  const item = cart.find(i => i.id === id);
  if (!item) return;

  if (qty > item.availableQty) {
    alert(`Only ${item.availableQty} available for this item.`);
    qty = item.availableQty;
  }

  // No-op if unchanged
  if (item.qty === qty) return;

  item.qty = qty;
  saveCart(cart);
  renderCart();
}




/* --------------------
   Render
-------------------- */
function renderCart() {
  const cart = getCart();
  const container = document.getElementById("cartItems");
  const subtotalEl = document.getElementById("cartSubtotal");
  const totalEl = document.getElementById("cartTotal");

  container.innerHTML = "";
  let subtotal = 0;

  cart.forEach(item => {
    const itemTotal = item.price * item.qty;
    subtotal += itemTotal;

    const row = document.createElement("div");
    row.className = "cart-item";

    row.innerHTML = `
		<div class="cart-item-info-header">
		  <img src="${item.image}" alt="">
		  <div class="cart-item-info">
			<div class="cart-item-info-name">${item.name}</div>
			<div class="cart-price">$${item.price.toFixed(2)}</div>
			<div style="font-size:16px;">${item.availableQty} available </div>
		  </div>
		  <button class="cart-delete" onclick="removeFromCart('${item.id}')">
			üóë
		  </button>		  
		</div>
		
		<div class="cart-item-footer-container">
			<label style="color:#505050;">Quantity</label>
			<div class="cart-item-info-footer">
			  <div class="cart-qty">
				<button onclick="updateQty('${item.id}', -1)">‚àí</button>
					<input
					  type="number"
					  min="1"
					  step="1"
					  value="${item.qty}"
					  class="cart-qty-input"
					  onblur="commitQty('${item.id}', this.value)"
					  onkeydown="if (event.key === 'Enter') this.blur()"
					/>
				<button onclick="updateQty('${item.id}', 1)">+</button>
			  </div>

			  <div class="cart-item-total">
				$${itemTotal.toFixed(2)}
			  </div>


			</div>
		</div>
    `;

    container.appendChild(row);
  });

  subtotalEl.textContent = `$${subtotal.toFixed(2)}`;
  totalEl.textContent = `$${subtotal.toFixed(2)}`;
}

/* --------------------
   Open / Close
-------------------- */
function openCart() {
  document.getElementById("cartOverlay").classList.add("open");
  document.body.style.overflow = "hidden";
}

function closeCart() {
  const overlay = document.getElementById("cartOverlay");

  overlay.classList.remove("open");
  overlay.classList.add("closing");

  document.body.style.overflow = "";

  // Wait for the slide animation to finish
  setTimeout(() => {
    overlay.classList.remove("closing");
  }, 400); // match CSS transition duration
}

/* Close when clicking backdrop */
document.getElementById('cartOverlay').addEventListener('click', e => {
  if (e.target.id === 'cartOverlay') closeCart();
});

/* Init */
renderCart();
</script>


</body>
</html>
